@functions {
    string IsActive(string page)
    {
        var currentPage = $"{ViewContext.RouteData.Values["controller"]}/{ViewContext.RouteData.Values["action"]}";
        return currentPage == page ? "active" : "";
    }
}


<!DOCTYPE html>
<html lang="es">
<head>
    @Html.Partial("_HeadPartial")
</head>

<body style=" display: flex; flex-direction: column; min-height: 100vh; margin: 0; /* Oculta la barra de desplazamiento vertical */ overflow-y: hidden;">
    @* NAV *@
    <header class="header" data-page="home" style="box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.5);">
        <div class="container d-flex flex-wrap justify-content-between align-items-center">
            <div class="logo header_logo">
                <a class="d-inline-flex align-items-center" href="@Url.Action("Index", "Home")">
                    <span class="logo_picture" style="color:aqua;">
                        <img src="~/Images/ELEC.png" alt="ELEC" />
                    </span>
                    <span class="text">
                        <span class="brand" style="color: rgb(48, 120, 252); ">ELEC</span>
                        <span class="text_secondary">Spanish School</span>
                    </span>
                </a>
            </div>

            @Html.Partial("_NavMobile")
          
                <!-- Agrega el botón del menú hamburguesa -->
           
                <nav class="header_nav collapse" id="headerMenu">
                    
                    <ul class="header_nav-list">
                        <li class="header_nav-list_item">
                            <a class="nav-item @(IsActive("Home/Index"))" href="@Url.Action("Index", "Home")" data-page="home">Inicio</a>
                        </li>
                        @if (Session["ActiveId"] != null)
                        {

                            if ((int)Session["UserType"] == 1) //Admin
                            {


                                <li class="header_nav-list_item">
                                    <a class="nav-item @(IsActive("User/UsersTable"))" href="@Url.Action("UsersTable", "User")" data-page="UsersTable">Usuarios</a>
                                </li>
                                <li class="header_nav-list_item">
                                    <a class="nav-item @(IsActive("Course/CoursesTable"))" href="@Url.Action("CoursesTable", "Course")" data-page="Cursos">Cursos</a>
                                </li>
                                <li class="header_nav-list_item">
                                    <a class="nav-item  @(IsActive("Report/GeneralReport"))" href="@Url.Action("GeneralReport", "Report")" data-page="Reportes">Reportes</a>
                                </li>


                            }
                            else if ((int)Session["UserType"] == 3) //Student
                            {
                                <li class="header_nav-list_item">
                                    <a class="nav-item" href="@Url.Action("AllCourses", "Course")" data-page="about">Mis Cursos</a>
                                </li>
                            }
                            else //Teacher
                            {
                                <li class="header_nav-list_item">
                                    <a class="nav-item" href="@Url.Action("AllCourses", "Course")" data-page="about">Mis Cursos</a>
                                </li>
                            }
                            <li class="header_nav-list_item">
                                <a class="nav-item @(IsActive("ProfileData/GeneralReport"))" style="color:#401ade; font-size:larger;" href="@Url.Action("ProfileData", "User")" data-page="about">@Session["Name"]</a>
                            </li>

                            <li class="header_nav-list_item">
                                @if (Session["ProfileImageB64"] == null)
                                {
                                    <img class="img-xs rounded-circle" src="https://cdn-icons-png.flaticon.com/512/2550/2550383.png" style="max-width:3rem" alt="Foto de Perfil Default">
                                }
                                else
                                {
                                    <img class="img-xs rounded-circle" src="data:image/jpeg;base64,@Session["ProfileImageB64"]" style="max-width:3rem;" alt="Foto de Perfil">
                                }
                            </li>

                            <li class="header_nav-list_item">
                                <a class="btn btn--rlogin" style="display:flex; height:40px" href="@Url.Action("Logout","User")">
                                    <span class="text">Cerrar Sesión</span>
                                </a>
                            </li>
                        }
                        else
                        {
                            <li class="header_nav-list_item">
                                <a class="nav-item" href="#" data-page="about">Preguntas frecuentes</a>
                            </li>
                            <li class="header_nav-list_item">
                                <a class="btn btn--rlogin" style="display:flex; height:40px" href="@Url.Action("Login","User")">
                                    <span class="text">Iniciar Sesión</span>
                                </a>
                            </li>
                        }
                    </ul>
                </nav>
            </div>
         
</header>
    @* NAV END *@

    <!-- content start -->
    @RenderBody()
    <!-- content end -->
    @* FOOTER *@
    @Html.Partial("_FooterPartial")
    @* FOOTER END*@


</body>
</html>

